/**
 * Skipped minification because the original files appears to be already minified.
 * Original file: /npm/chartjs-plugin-stacked100@1.5.2/build/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(t,a){"object"==typeof exports&&"object"==typeof module?module.exports=a():"function"==typeof define&&define.amd?define([],a):"object"==typeof exports?exports.ChartjsPluginStacked100=a():t.ChartjsPluginStacked100=a()}(self,(()=>(()=>{"use strict";var t={d:(a,n)=>{for(var e in n)t.o(n,e)&&!t.o(a,e)&&Object.defineProperty(a,e,{enumerable:!0,get:n[e]})},o:(t,a)=>Object.prototype.hasOwnProperty.call(t,a),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},a={};t.r(a),t.d(a,{default:()=>p});var n=function(t,a,n){if(n||2===arguments.length)for(var e,r=0,o=a.length;r<o;r++)!e&&r in a||(e||(e=Array.prototype.slice.call(a,0,r)),e[r]=a[r]);return t.concat(e||Array.prototype.slice.call(a))},e=function(t,a,n){if("object"==typeof(r=t)&&r){var e=function(t,a){return t&&t["".concat(a,"AxisKey")]||a}(n,a?"x":"y");return t[e]}var r;return t},r=function(t){t.originalData=t.datasets.map((function(t){return a=t.data,n([],a,!0);var a}))},o=function(){return o=Object.assign||function(t){for(var a,n=1,e=arguments.length;n<e;n++)for(var r in a=arguments[n])Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r]);return t},o.apply(this,arguments)},i=function(t,a,n){if(n||2===arguments.length)for(var e,r=0,o=a.length;r<o;r++)!e&&r in a||(e||(e=Array.prototype.slice.call(a,0,r)),e[r]=a[r]);return t.concat(e||Array.prototype.slice.call(a))},c=Symbol(),u=function(t,a){return!a||(t.xAxisID||t.yAxisID)===a},l=function(t,a,n,r,o,l,s){var d=function(t,a,n,r,o){var u,l=(null==t?void 0:t.reduce((function(t,a){var n,e=(null===(n=null==a?void 0:a.data)||void 0===n?void 0:n.length)||0;return e>t?e:t}),0))||0,s=null===(u=null==t?void 0:t[0])||void 0===u?void 0:u.stack,d=i([],new Array(l),!0).map((function(i,u){return t.reduce((function(t,i,l){var d=i.stack||c;t[d]||(t[d]=0);var f=Math.abs(e(i.data[u],n,i.parsing||o)||0)*a[l];return r&&!s?t[d]<f&&(t[d]=f):t[d]+=f,t}),{})}));return s&&r?d.map((function(t){var a=Math.max.apply(Math,Object.values(t));return Object.keys(t).forEach((function(n){return t[n]=a})),t})):d}(null==t?void 0:t.datasets,a,n,o,s);return t.datasets.map((function(t){var a=u(t,l);return t.data.map((function(o,i){var u=e(o,n,t.parsing||s);if(!a)return u;var l=d[i][t.stack||c];return u&&l?function(t,a){var n=Math.pow(10,a);return Math.round(100*t*n)/n}(u/l,r):0}))}))},s=function(t,a){t&&t.forEach((function(t,n){a[n].data=t}))},d=function(t){return"y"===t.options.indexAxis},f=function(t,a,n,e){var r=o(o({stacked:n},e),t.options.scales[a]);t.options.scales[a]=r};const p={id:"stacked100",beforeInit:function(t,a,n){if(n.enable){var r=n.replaceTooltipLabel,i=void 0===r||r,c=n.fixNegativeScale,l=void 0===c||c,s=n.individual,p=void 0!==s&&s,v=d(t),y=v?"x":"y",b=function(t,a){var n={max:100};return t?a?o({min:-100},n):n:o({min:0},n)}(t.data.datasets.some((function(a){return a.data.some((function(n){return(e(n,v,a.parsing||t.options.parsing)||0)<0}))})),l);n.axisId?f(t,n.axisId,!p,b):["x","y"].forEach((function(a){f(t,a,!p,a===y?b:{})})),i&&(t.options.plugins.tooltip.callbacks.label=function(t,a){return function(n){var r=n.chart.data,o=n.datasetIndex,i=n.dataIndex,c=r.datasets[o].label||"",l=r.originalData[o][i],s=r.calculatedData[o][i],d=e(l,t,r.datasets[o].parsing||n.chart.options.parsing);return u(r.datasets[o],a)?"".concat(c,": ").concat(s,"% (").concat(d,")"):"".concat(c,": ").concat(s)}}(v,n.axisId))}},beforeUpdate:function(t,a,n){if(n.enable){var e=t.data;r(e);var o=e.datasets.map((function(a,n){var e,r;return(null!==(r=null===(e=t.getDatasetMeta(n))||void 0===e?void 0:e.hidden)&&void 0!==r?r:a.hidden)?0:1})),i=function(t){if(!("precision"in t))return 1;if("number"!=typeof t.precision)return 1;var a=Math.floor(t.precision);return a<0||a>16?1:a}(n);e.calculatedData=l(e,o,d(t),i,n.individual,n.axisId,t.options.parsing),s(e.calculatedData,e.datasets)}},afterUpdate:function(t,a,n){if(n.enable){var e=t.data;s(e.originalData,e.datasets)}}};return a})()));
